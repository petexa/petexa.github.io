<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plate Calculator | Iron & Ale</title>
  <meta name="description" content="Calculate the plates needed for your target weight or find the total weight from plates on the bar. Works with KG plates.">
  <link rel="stylesheet" href="../../assets/css/tailwind.css">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%233b82f6'%3E%3Cpath d='M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z'/%3E%3C/svg%3E">
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-WW47GEZS2M"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-WW47GEZS2M');
  </script>
</head>
<body class="bg-gray-50">
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <div class="site-wrapper">
    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar" role="navigation" aria-label="Main navigation">
      <div class="sidebar-header">
        <a href="../../index.html" class="sidebar-logo">
          <svg class="sidebar-nav-icon" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z"/>
          </svg>
          <span>Iron & Ale</span>
        </a>
      </div>
      
      <nav class="sidebar-nav">
        <a href="../../index.html" class="sidebar-nav-item">
          <svg class="sidebar-nav-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
          </svg>
          <span>Home</span>
        </a>
        <a href="../../utilities/" class="sidebar-nav-item active" aria-current="page">
          <svg class="sidebar-nav-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
          </svg>
          <span>Utilities</span>
        </a>
        <a href="../../events.html" class="sidebar-nav-item">
          <svg class="sidebar-nav-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
          </svg>
          <span>Events</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <p class="text-sm text-gray-400">&copy; <span id="sidebar-year">2024</span> Iron & Ale</p>
      </div>
    </aside>

    <div class="sidebar-overlay" id="sidebar-overlay" aria-hidden="true"></div>

    <!-- Main Content -->
    <div class="main-content">
      <header class="top-header">
        <a href="../../index.html" class="font-bold text-lg text-gray-900">Iron & Ale</a>
        <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Open navigation menu" aria-expanded="false" aria-controls="sidebar">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
      </header>

      <main id="main-content" role="main">
        <div class="page-container">
          <!-- Breadcrumb -->
          <nav class="mb-6" aria-label="Breadcrumb">
            <ol class="flex items-center gap-2 text-sm text-gray-500">
              <li><a href="../../utilities/" class="hover:text-primary-600">Utilities</a></li>
              <li aria-hidden="true">/</li>
              <li class="text-gray-900 font-medium">Plate Calculator</li>
            </ol>
          </nav>

          <!-- Page Header -->
          <header class="page-header">
            <h1 class="page-title">Plate Calculator (KG)</h1>
            <p class="page-subtitle">Calculate plates needed for target weight or total weight from plates</p>
          </header>

          <!-- Mode Selector -->
          <div class="card mb-6">
            <div class="card-body">
              <div class="flex flex-wrap gap-4 justify-center" role="tablist" aria-label="Calculator mode">
                <button class="btn btn-primary" id="mode-plates" role="tab" aria-selected="true" aria-controls="plates-panel" onclick="setMode('plates')">
                  Calculate Plates Needed
                </button>
                <button class="btn btn-secondary" id="mode-weight" role="tab" aria-selected="false" aria-controls="weight-panel" onclick="setMode('weight')">
                  Calculate Total Weight
                </button>
              </div>
            </div>
          </div>

          <!-- Calculator Forms -->
          <div class="card">
            <div class="card-body">
              <!-- Common: Bar Weight -->
              <div class="mb-6">
                <label for="bar-weight" class="form-label">Bar Weight (KG)</label>
                <input type="number" id="bar-weight" class="form-input max-w-xs" min="10" max="30" value="20" aria-describedby="bar-weight-help">
                <p id="bar-weight-help" class="text-sm text-gray-500 mt-1">Standard Olympic bar is 20kg</p>
              </div>

              <!-- Plates Mode Panel -->
              <div id="plates-panel" role="tabpanel" aria-labelledby="mode-plates">
                <div class="mb-6">
                  <label for="target-weight" class="form-label">Target Total Weight (KG)</label>
                  <input type="number" id="target-weight" class="form-input max-w-xs" min="20" max="500" value="60">
                </div>
                <button class="btn btn-primary" onclick="calculatePlates()">Calculate Plates</button>
              </div>

              <!-- Weight Mode Panel -->
              <div id="weight-panel" role="tabpanel" aria-labelledby="mode-weight" class="hidden">
                <div class="mb-4">
                  <label for="side-plates" class="form-label">Plates on One Side (KG, comma separated)</label>
                  <input type="text" id="side-plates" class="form-input" placeholder="e.g. 20,10,2.5" aria-describedby="side-plates-help">
                  <p id="side-plates-help" class="text-sm text-gray-500 mt-1">Enter plates on one side only</p>
                </div>
                
                <!-- Quick Add Buttons -->
                <div class="mb-6">
                  <p class="text-sm font-medium text-gray-700 mb-2">Quick Add:</p>
                  <div class="flex flex-wrap gap-2">
                    <button class="btn btn-sm btn-outline" onclick="addPlate(25)">+25kg</button>
                    <button class="btn btn-sm btn-outline" onclick="addPlate(20)">+20kg</button>
                    <button class="btn btn-sm btn-outline" onclick="addPlate(15)">+15kg</button>
                    <button class="btn btn-sm btn-outline" onclick="addPlate(10)">+10kg</button>
                    <button class="btn btn-sm btn-outline" onclick="addPlate(5)">+5kg</button>
                    <button class="btn btn-sm btn-outline" onclick="addPlate(2.5)">+2.5kg</button>
                    <button class="btn btn-sm btn-outline" onclick="addPlate(1.25)">+1.25kg</button>
                    <button class="btn btn-sm btn-danger" onclick="clearPlates()">Clear</button>
                  </div>
                </div>

                <button class="btn btn-primary" onclick="calculateWeight()">Calculate Total Weight</button>
              </div>

              <!-- Result Display -->
              <div id="result" class="mt-6 p-4 bg-gray-100 rounded-lg hidden" role="status" aria-live="polite">
                <h3 class="font-semibold text-gray-900 mb-2">Result</h3>
                <div id="result-content"></div>
              </div>
            </div>
          </div>

          <!-- Info Section -->
          <section class="mt-8" aria-labelledby="info-title">
            <h2 id="info-title" class="text-lg font-semibold text-gray-900 mb-4">Standard Plate Sizes</h2>
            <div class="card">
              <div class="card-body">
                <div class="grid grid-cols-2 gap-4 sm:grid-cols-4">
                  <div class="text-center p-3 bg-gray-50 rounded-lg">
                    <div class="text-2xl font-bold text-primary-600">25</div>
                    <div class="text-sm text-gray-500">kg</div>
                  </div>
                  <div class="text-center p-3 bg-gray-50 rounded-lg">
                    <div class="text-2xl font-bold text-primary-600">20</div>
                    <div class="text-sm text-gray-500">kg</div>
                  </div>
                  <div class="text-center p-3 bg-gray-50 rounded-lg">
                    <div class="text-2xl font-bold text-primary-600">15</div>
                    <div class="text-sm text-gray-500">kg</div>
                  </div>
                  <div class="text-center p-3 bg-gray-50 rounded-lg">
                    <div class="text-2xl font-bold text-primary-600">10</div>
                    <div class="text-sm text-gray-500">kg</div>
                  </div>
                  <div class="text-center p-3 bg-gray-50 rounded-lg">
                    <div class="text-2xl font-bold text-secondary-600">5</div>
                    <div class="text-sm text-gray-500">kg</div>
                  </div>
                  <div class="text-center p-3 bg-gray-50 rounded-lg">
                    <div class="text-2xl font-bold text-secondary-600">2.5</div>
                    <div class="text-sm text-gray-500">kg</div>
                  </div>
                  <div class="text-center p-3 bg-gray-50 rounded-lg">
                    <div class="text-2xl font-bold text-secondary-600">1.25</div>
                    <div class="text-sm text-gray-500">kg</div>
                  </div>
                  <div class="text-center p-3 bg-gray-50 rounded-lg">
                    <div class="text-2xl font-bold text-gray-400">0.5</div>
                    <div class="text-sm text-gray-500">kg</div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>

        <!-- Footer -->
        <footer class="bg-gray-900 text-white py-8 px-6 mt-12" role="contentinfo">
          <div class="max-w-6xl mx-auto text-center">
            <p class="text-sm text-gray-400">
              &copy; <span id="footer-year">2024</span> Iron & Ale. All rights reserved.
            </p>
          </div>
        </footer>
      </main>
    </div>
  </div>

  <script src="../../assets/js/theme.js"></script>
  <script src="../../assets/js/app.js"></script>
  <script>
    // Mode toggle
    let currentMode = 'plates';

    function setMode(mode) {
      currentMode = mode;
      const platesPanel = document.getElementById('plates-panel');
      const weightPanel = document.getElementById('weight-panel');
      const modePlatesBtn = document.getElementById('mode-plates');
      const modeWeightBtn = document.getElementById('mode-weight');
      const result = document.getElementById('result');

      if (mode === 'plates') {
        platesPanel.classList.remove('hidden');
        weightPanel.classList.add('hidden');
        modePlatesBtn.classList.remove('btn-secondary');
        modePlatesBtn.classList.add('btn-primary');
        modeWeightBtn.classList.remove('btn-primary');
        modeWeightBtn.classList.add('btn-secondary');
        modePlatesBtn.setAttribute('aria-selected', 'true');
        modeWeightBtn.setAttribute('aria-selected', 'false');
      } else {
        platesPanel.classList.add('hidden');
        weightPanel.classList.remove('hidden');
        modePlatesBtn.classList.remove('btn-primary');
        modePlatesBtn.classList.add('btn-secondary');
        modeWeightBtn.classList.remove('btn-secondary');
        modeWeightBtn.classList.add('btn-primary');
        modePlatesBtn.setAttribute('aria-selected', 'false');
        modeWeightBtn.setAttribute('aria-selected', 'true');
      }
      
      result.classList.add('hidden');
    }

    // Calculate plates needed for target weight
    function calculatePlates() {
      const barWeight = parseFloat(document.getElementById('bar-weight').value) || 20;
      const targetWeight = parseFloat(document.getElementById('target-weight').value) || 60;
      const result = document.getElementById('result');
      const resultContent = document.getElementById('result-content');

      if (targetWeight < barWeight) {
        resultContent.innerHTML = '<p class="text-danger-600">Target weight must be greater than bar weight.</p>';
        result.classList.remove('hidden');
        return;
      }

      const plateSizes = [25, 20, 15, 10, 5, 2.5, 1.25];
      let perSide = (targetWeight - barWeight) / 2;
      const breakdown = [];

      plateSizes.forEach(function(size) {
        const count = Math.floor(perSide / size);
        if (count > 0) {
          breakdown.push('<span class="inline-flex items-center gap-1"><span class="font-bold text-primary-600">' + count + '</span> Ã— ' + size + 'kg</span>');
          perSide -= count * size;
        }
      });

      if (perSide > 0.01) {
        breakdown.push('<span class="text-secondary-600">+ ' + perSide.toFixed(2) + 'kg remaining (small plates)</span>');
      }

      resultContent.innerHTML = 
        '<p class="mb-2"><strong>Total Weight:</strong> ' + targetWeight + ' kg</p>' +
        '<p class="mb-2"><strong>Bar:</strong> ' + barWeight + ' kg</p>' +
        '<p><strong>Each Side:</strong></p>' +
        '<div class="flex flex-wrap gap-2 mt-2">' + (breakdown.length ? breakdown.join('') : '<span>No plates needed</span>') + '</div>';
      
      result.classList.remove('hidden');
    }

    // Add plate to input
    function addPlate(kg) {
      const input = document.getElementById('side-plates');
      let val = input.value.trim();
      if (val) {
        val += ',';
      }
      input.value = val + kg;
      input.focus();
    }

    // Clear plates input
    function clearPlates() {
      document.getElementById('side-plates').value = '';
      document.getElementById('result').classList.add('hidden');
    }

    // Calculate total weight from plates
    function calculateWeight() {
      const barWeight = parseFloat(document.getElementById('bar-weight').value) || 20;
      const sidePlatesInput = document.getElementById('side-plates').value;
      const sidePlates = sidePlatesInput.split(',')
        .map(function(p) { return parseFloat(p.trim()); })
        .filter(function(p) { return !isNaN(p); });
      
      const totalPlates = sidePlates.reduce(function(sum, kg) { return sum + kg; }, 0) * 2;
      const totalWeight = barWeight + totalPlates;
      
      const result = document.getElementById('result');
      const resultContent = document.getElementById('result-content');

      resultContent.innerHTML = 
        '<p class="text-2xl font-bold text-primary-600 mb-2">' + totalWeight + ' kg</p>' +
        '<p class="text-sm text-gray-600">Bar: ' + barWeight + ' kg</p>' +
        '<p class="text-sm text-gray-600">Plates per side: ' + (sidePlates.length ? sidePlates.join(', ') : 'None') + ' kg</p>';
      
      result.classList.remove('hidden');
    }

    // Set year
    const currentYear = new Date().getFullYear();
    document.getElementById('footer-year').textContent = currentYear;
    document.getElementById('sidebar-year').textContent = currentYear;
  </script>
</body>
</html>
