<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Admin - Bootcamp Elite Fitness</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bai+Jamjuree:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <style>
      .admin-container {
        max-width: 800px;
        margin: 2rem auto;
        padding: 2rem;
        background: #2d2d2d;
        border-radius: 12px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      }

      .admin-header {
        text-align: center;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #444;
      }

      .admin-header h1 {
        color: #80affe;
        margin-bottom: 0.5rem;
      }

      .admin-header p {
        color: #aaa;
        font-size: 0.9rem;
      }

      .form-group {
        margin-bottom: 1.5rem;
      }

      .form-group label {
        display: block;
        color: #fff;
        font-weight: 600;
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
      }

      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid #444;
        border-radius: 8px;
        background: #1e1e1e;
        color: #fff;
        font-size: 1rem;
        font-family: 'Bai Jamjuree', sans-serif;
        transition: border-color 0.3s ease;
      }

      .form-group input:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #80affe;
      }

      .form-group textarea {
        resize: vertical;
        min-height: 100px;
      }

      .form-group small {
        display: block;
        color: #aaa;
        font-size: 0.85rem;
        margin-top: 0.25rem;
      }

      .required {
        color: #29ffb4;
      }

      .button-group {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
      }

      .btn {
        flex: 1;
        padding: 14px 24px;
        border: none;
        border-radius: 50px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: 'Bai Jamjuree', sans-serif;
      }

      .btn-primary {
        background: linear-gradient(135deg, #80affe 0%, #29ffb4 100%);
        color: #fff;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(128, 175, 254, 0.4);
      }

      .btn-secondary {
        background: #444;
        color: #fff;
      }

      .btn-secondary:hover {
        background: #555;
      }

      .output-section {
        margin-top: 2rem;
        padding: 1.5rem;
        background: #1e1e1e;
        border-radius: 8px;
        border: 2px solid #444;
      }

      .output-section h3 {
        color: #29ffb4;
        margin-bottom: 1rem;
        font-size: 1.1rem;
      }

      .code-block {
        background: #0d0d0d;
        padding: 1rem;
        border-radius: 6px;
        overflow-x: auto;
        margin-bottom: 1rem;
      }

      .code-block pre {
        margin: 0;
        color: #29ffb4;
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
        white-space: pre-wrap;
        word-wrap: break-word;
      }

      .copy-btn {
        background: #80affe;
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.9rem;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .copy-btn:hover {
        background: #6a9ae8;
      }

      .instructions {
        background: #2a2a2a;
        padding: 1rem;
        border-radius: 6px;
        border-left: 4px solid #80affe;
        margin-top: 1rem;
      }

      .instructions h4 {
        color: #80affe;
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
      }

      .instructions ol {
        margin: 0.5rem 0 0 1.5rem;
        padding: 0;
      }

      .instructions li {
        color: #ccc;
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
      }

      .success-message {
        background: #1a4d2e;
        color: #29ffb4;
        padding: 1rem;
        border-radius: 6px;
        margin-top: 1rem;
        border: 1px solid #29ffb4;
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="admin-container">
      <div class="admin-header">
        <h1>üîí Event Creator</h1>
        <p>Admin tool for creating new events</p>
      </div>

      <form id="eventForm">
        <div class="form-group">
          <label for="eventName">Event Name <span class="required">*</span></label>
          <input
            type="text"
            id="eventName"
            name="eventName"
            required
            placeholder="e.g., Nuclear Fit Challenge"
          />
        </div>

        <div class="form-group">
          <label for="eventDate">Event Date <span class="required">*</span></label>
          <input type="date" id="eventDate" name="eventDate" required />
          <small>This will be used in the filename (YYYYMMDD format)</small>
        </div>

        <div class="form-group">
          <label for="eventTime">Event Time</label>
          <input
            type="time"
            id="eventTime"
            name="eventTime"
            placeholder="e.g., 18:00"
          />
          <small>Optional - 24-hour format (HH:MM)</small>
        </div>

        <div class="form-group">
          <label for="eventDescription">Description <span class="required">*</span></label>
          <textarea
            id="eventDescription"
            name="eventDescription"
            required
            placeholder="Describe the event details, what participants should know, etc."
          ></textarea>
        </div>

        <div class="form-group">
          <label for="eventLocation">Location <span class="required">*</span></label>
          <input
            type="text"
            id="eventLocation"
            name="eventLocation"
            required
            placeholder="e.g., Bootcamp Elite Fitness Gym"
          />
        </div>

        <div class="button-group">
          <button type="submit" class="btn btn-primary">Generate Event JSON</button>
          <button type="reset" class="btn btn-secondary">Clear Form</button>
        </div>
      </form>

      <div id="outputSection" class="output-section" style="display: none;">
        <h3>üìÑ Generated Files</h3>
        
        <h4 style="color: #fff; margin-top: 1.5rem;">1. Event JSON File</h4>
        <p style="color: #aaa; font-size: 0.9rem;">Filename: <code id="filename" style="color: #29ffb4;"></code></p>
        <div class="code-block">
          <pre id="jsonOutput"></pre>
        </div>
        <button class="copy-btn" onclick="copyJSON()">üìã Copy JSON</button>

        <h4 style="color: #fff; margin-top: 1.5rem;">2. Update events-list.json</h4>
        <p style="color: #aaa; font-size: 0.9rem;">Add this line to the array in <code style="color: #29ffb4;">events/events-list.json</code></p>
        <div class="code-block">
          <pre id="listEntry"></pre>
        </div>
        <button class="copy-btn" onclick="copyListEntry()">üìã Copy Entry</button>

        <div class="instructions">
          <h4>üìù How to Deploy This Event:</h4>
          <ol>
            <li>Copy the JSON above and save it as <code id="filenameInstructions"></code> in the <code>events/</code> folder</li>
            <li>Open <code>events/events-list.json</code></li>
            <li>Add the entry above to the "events" array (copy the line including the comma)</li>
            <li>Save and commit your changes</li>
            <li>Push to GitHub - event will appear on the website!</li>
          </ol>
        </div>

        <div id="successMessage" class="success-message">
          ‚úÖ Event files generated successfully! Follow the instructions above to deploy.
        </div>
      </div>
    </div>

    <script>
      const form = document.getElementById('eventForm');
      const outputSection = document.getElementById('outputSection');
      const jsonOutput = document.getElementById('jsonOutput');
      const listEntry = document.getElementById('listEntry');
      const filename = document.getElementById('filename');
      const filenameInstructions = document.getElementById('filenameInstructions');
      const successMessage = document.getElementById('successMessage');

      let generatedJSON = '';
      let generatedEntry = '';

      form.addEventListener('submit', (e) => {
        e.preventDefault();

        const name = document.getElementById('eventName').value.trim();
        const date = document.getElementById('eventDate').value;
        const time = document.getElementById('eventTime').value;
        const description = document.getElementById('eventDescription').value.trim();
        const location = document.getElementById('eventLocation').value.trim();

        // Generate filename from name and date
        const slug = name
          .toLowerCase()
          .replace(/[^a-z0-9]+/g, '-')
          .replace(/^-+|-+$/g, '');
        const dateFormatted = date.replace(/-/g, '');
        const fileName = `${slug}-${dateFormatted}.json`;

        // Create event object
        const eventObj = {
          name: name,
          date: date,
          ...(time && { time: time }),
          description: description,
          location: location
        };

        // Generate JSON
        generatedJSON = JSON.stringify(eventObj, null, 2);
        generatedEntry = `"${fileName}",`;

        // Display output
        filename.textContent = fileName;
        filenameInstructions.textContent = fileName;
        jsonOutput.textContent = generatedJSON;
        listEntry.textContent = generatedEntry;
        
        outputSection.style.display = 'block';
        successMessage.style.display = 'block';

        // Scroll to output
        outputSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      });

      form.addEventListener('reset', () => {
        outputSection.style.display = 'none';
        successMessage.style.display = 'none';
      });

      function copyJSON() {
        navigator.clipboard.writeText(generatedJSON).then(() => {
          const btn = event.target;
          const originalText = btn.textContent;
          btn.textContent = '‚úì Copied!';
          setTimeout(() => {
            btn.textContent = originalText;
          }, 2000);
        });
      }

      function copyListEntry() {
        navigator.clipboard.writeText(generatedEntry).then(() => {
          const btn = event.target;
          const originalText = btn.textContent;
          btn.textContent = '‚úì Copied!';
          setTimeout(() => {
            btn.textContent = originalText;
          }, 2000);
        });
      }
    </script>
  </body>
</html>
