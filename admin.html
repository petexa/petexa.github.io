<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Webhook Test | Iron & Ale</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <link href="https://fonts.googleapis.com/css?family=Orbitron:700&display=swap" rel="stylesheet">
</head>
<body class="neon-bg">
  <div class="page-wrapper">
    <nav class="neon-nav" role="navigation" aria-label="Main navigation">
      <ul id="nav-list">
        <li><a href="index.html">HOME</a></li>
        <li><a href="events.html">EVENTS</a></li>
        <li><a href="utilities.html">UTILITIES</a></li>
        <li><a href="admin.html" class="active">ADMIN</a></li>
      </ul>
    </nav>
    <main role="main">
      <section class="hero-section" style="min-height:20vh;">
        <div class="hero-content">
          <h1 class="neon-title">Admin Webhook Test</h1>
          <p class="hero-headline">Send a test workout log to your webhook endpoint.</p>
        </div>
      </section>
      <div class="utility-card" style="max-width:500px;margin:32px auto;">
        <form id="webhook-test-form" style="display:flex;flex-direction:column;gap:16px;">
          <input type="text" id="test-name" placeholder="Name" required style="padding:12px;border-radius:6px;border:2px solid #19baff;background:#222;color:#fff;">
          <input type="text" id="test-exercise" placeholder="Exercise" required style="padding:12px;border-radius:6px;border:2px solid #19baff;background:#222;color:#fff;">
          <input type="date" id="test-date" required style="padding:12px;border-radius:6px;border:2px solid #19baff;background:#222;color:#fff;">
          <input type="number" id="test-sets" placeholder="Sets" min="1" required style="padding:12px;border-radius:6px;border:2px solid #19baff;background:#222;color:#fff;">
          <input type="number" id="test-reps" placeholder="Reps" min="1" required style="padding:12px;border-radius:6px;border:2px solid #19baff;background:#222;color:#fff;">
          <input type="number" id="test-weight" placeholder="Weight" min="0" required style="padding:12px;border-radius:6px;border:2px solid #19baff;background:#222;color:#fff;">
          <textarea id="test-notes" placeholder="Notes" rows="2" style="padding:12px;border-radius:6px;border:2px solid #19baff;background:#222;color:#fff;"></textarea>
          <button type="button" class="neon-btn neon-btn-blue" onclick="sendWebhookTest()">Send Test to Webhook</button>
        </form>
        <div id="webhook-test-result" style="margin-top:18px;text-align:center;color:#fff;font-family:'Orbitron',Arial,sans-serif;"></div>
      </div>
    </main>
  </div>
  <script>
    function sendWebhookTest() {
      const result = document.getElementById('webhook-test-result');
      result.textContent = '';
      const data = {
        name: document.getElementById('test-name').value,
        exercise: document.getElementById('test-exercise').value,
        date: document.getElementById('test-date').value,
        sets: document.getElementById('test-sets').value,
        reps: document.getElementById('test-reps').value,
        weight: document.getElementById('test-weight').value,
        notes: document.getElementById('test-notes').value
      };
      fetch('https://n8n.petefox.co.uk/webhook/workout-log', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      })
      .then(res => res.ok ? res.text() : Promise.reject(res))
      .then(text => {
        result.textContent = 'Webhook sent! Response: ' + text;
        result.style.color = '#39ff14';
      })
      .catch(err => {
        result.textContent = 'Error sending webhook.';
        result.style.color = '#ff5555';
      });
    }
  </script>
</body>
</html>
